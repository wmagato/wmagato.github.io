<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>30 Day Plank Challenge</title>
    <meta name="author" content="@wmagato">

    <style type="text/css">h2 { font-family: sans-serif; }</style>
    <link href="/plank/assets/css/nv.d3.css" rel="stylesheet">
    <script src="/plank/assets/lib/d3.js"></script>
    <script src="/plank/assets/js/nv.d3.js"></script>

    <style type="text/css">h2 { font-family: sans-serif; }</style>
    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #chart1, svg {
            margin: 10px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
        .dashed {
            stroke-dasharray: 5,5;
        }
    </style>
  <head>

  <body class='with-3d-shadow with-transitions'>
    <div><h2 align="center" >30 Day Plank Challenge</h2></div>
    <div id="chart1"></div>

    <script>
      // Wrapping in nv.addGraph allows for '0 timeout render', stores rendered charts in nv.graphs, and may do more in the future... it's NOT required
      var chart;
      var data;

      nv.addGraph(function() {
        chart = nv.models.lineChart()
            .options({
                duration: 300,
                useInteractiveGuideline: true
            })
        ;
        // chart sub-models (ie. xAxis, yAxis, etc) when accessed directly, return themselves, not the parent chart, so need to chain separately
        chart.xAxis
            .axisLabel("Day")
            .staggerLabels(true)
        ;
        chart.yAxis
            .axisLabel('Time (s)')
        ;

        chart.forceY([0, 300]);

        data = plankTimes();

        d3.select('#chart1').append('svg')
            .datum(data)
            .call(chart);
        nv.utils.windowResize(chart.update);
        return chart;
      });

      function plankTimes() {
        return [
          {
            key: "Nicki",
            values: [
                { x: 1, y: 20 },
                { x: 2, y: 20 },
            ]
          },
          {
            key: "Bill",
            values: [
                { x: 1, y: 20 },
                { x: 2, y: 20 },
            ]
          },
          {
            key: "Jill",
            values: [
                { x: 1, y: 20 },
                { x: 2, y: 20 },
            ]
          },
          {
            key: "Peter",
            values: [
                { x: 1, y: 20 },
                { x: 2, y: 20 },
            ]
          },
          {
            key: "Sarah",
            values: [
                { x: 1, y: 20 },
                { x: 2, y: 20 },
            ]
          },
          {
            key: "Paige",
            values: [
                { x: 1, y: 20 },
                { x: 2, y: 20 },
            ]
          },
          {
            key: "Addison",
            values: [
                { x: 1, y: 20 },
                { x: 2, y: 20 },
            ]
          },
          {
            area: true,
            key: "Target",
            values: [
                { x: 1, y: 20 },
                { x: 2, y: 20 },
                { x: 3, y: 30 },
                { x: 4, y: 30 },
                { x: 5, y: 40 },
                { x: 5, y: 0 },
                { x: 6, y: 0 },
                { x: 7, y: 0 },
                { x: 7, y: 45 },
                { x: 8, y: 45 },
                { x: 9, y: 60 },
                { x: 10, y: 60 },
                { x: 11, y: 60 },
                { x: 12, y: 90 },
                // 13 rest
                { x: 14, y: 90 },
                { x: 15, y: 90 },
                { x: 16, y: 120 },
                { x: 17, y: 120 },
                { x: 18, y: 150 },
                // 19 rest
                { x: 20, y: 150 },
                { x: 21, y: 150 },
                { x: 22, y: 180 },
                { x: 23, y: 180 },
                { x: 24, y: 210 },
                { x: 25, y: 210 },
                // 26 rest
                { x: 27, y: 240 },
                { x: 28, y: 240 },
                { x: 29, y: 270 },
                { x: 30, y: 300 },
            ]
          },
        ];
      }
    </script>
  </body>
</html>
