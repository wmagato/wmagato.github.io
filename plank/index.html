<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>30 Day Plank Challenge</title>
    <meta name="author" content="@wmagato">
    <link rel="icon" href="/plank/Clock.ico">

    <style type="text/css">h2 { font-family: sans-serif; }</style>
    <link href="/plank/assets/css/nv.d3.css" rel="stylesheet">
    <script src="/plank/assets/lib/d3.js"></script>
    <script src="/plank/assets/js/nv.d3.js"></script>

    <style type="text/css">h2 { font-family: sans-serif; }</style>
    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #chart1, svg {
            margin: 5px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
        .dashed {
            stroke-dasharray: 5,5;
        }
    </style>
  <head>

  <body class='with-3d-shadow with-transitions'>
    <div><h2 align="center" >30 Day Plank Challenge</h2></div>
    <div id="chart1"></div>

    <script>
        // Wrapping in nv.addGraph allows for '0 timeout render', stores rendered charts in nv.graphs, and may do more in the future... it's NOT required
        var chart;
        var data;

        nv.addGraph(function() {
            chart = nv.models.lineChart()
                .options({
                    duration: 300,
                    useInteractiveGuideline: true,
//                    interpolate: "step-before"
                })
            ;

            // chart sub-models (ie. xAxis, yAxis, etc) when accessed directly, return themselves, not the parent chart, so need to chain separately
            chart.xAxis
                .staggerLabels(true)
            ;

            chart.yAxis
                .axisLabel('Time')
                .tickFormat(function(d) {
                    return d3.time.format("%M:%S")(new Date(d))})
            ;

            chart.forceY([0, 300]);

            d3.select('#chart1').append('svg')
                .datum(plankData())
                .call(chart);

            nv.utils.windowResize(chart.update);
            return chart;
        });

        function plankTime(min, sec) {
            return ((min * 60000) + (sec * 1000));
        }

        function plankData() {
            return [
                {
                    key: "Bill",
                    values: [
                        { x: 0, y: 0 },
                        { x: 1, y: plankTime(1, 23) },
                        { x: 2, y: plankTime(2, 5) },
                    ]
                },
                {
                    key: "Paige",
                    values: [
                        { x: 0, y: 0 },
                        { x: 1, y: plankTime(1, 6) },
                        { x: 2, y: plankTime(2, 3) },
                    ]
                },
                {
                    key: "Addison",
                    values: [
                        { x: 0, y: 0 },
                        { x: 1, y: plankTime(1, 7) },
                        { x: 2, y: plankTime(1, 55) },
                    ]
                },
                {
                    key: "Jill",
                    values: [
                        { x: 0, y: 0 },
                        { x: 1, y: plankTime(1, 13) },
                        { x: 2, y: plankTime(1, 8) },
                    ]
                },
                {
                    key: "Sarah",
                    values: [
                        { x: 0, y: 0 },
                        { x: 1, y: plankTime(1, 45) },
                        { x: 2, y: plankTime(1, 0) },
                    ]
                },
                {
                    key: "Angela",
                    values: [
                        { x: 0, y: 0 },
                        { x: 1, y: plankTime(0, 40) },
                        { x: 2, y: plankTime(0, 40) },
                    ]
                },
                {
                    key: "Peter",
                    values: [
                        { x: 0, y: 0 },
                        { x: 1, y: plankTime(2, 0) },
                        { x: 2, y: plankTime(0, 30) },
                    ]
                },
                {
                    key: "Nicki",
                    values: [
                        { x: 0, y: 0 },
                        { x: 1, y: plankTime(0, 23) },
                        { x: 2, y: plankTime(0, 30) },
                    ]
                },
                {
                    area: true,
                    key: "Target",
                    color: '#808080',
                    values: [
                        { x: 0, y: plankTime(0, 0) },
                        { x: 1, y: plankTime(0, 20) },
                        { x: 2, y: plankTime(0, 20) },
                        { x: 3, y: plankTime(0, 30) },
                        { x: 4, y: plankTime(0, 30) },
                        { x: 5, y: plankTime(0, 40) },
                        { x: 6, y: plankTime(0, 0) }, // rest day
                        { x: 7, y: plankTime(0, 45) },
                        { x: 8, y: plankTime(0, 45) },
                        { x: 9, y: plankTime(1, 0) },
                        { x: 10, y: plankTime(1, 0) },
                        { x: 11, y: plankTime(1, 0) },
                        { x: 12, y: plankTime(1, 30) },
                        { x: 13, y: plankTime(0, 0) }, // rest day
                        { x: 14, y: plankTime(1, 30) },
                        { x: 15, y: plankTime(1, 30) },
                        { x: 16, y: plankTime(2, 0) },
                        { x: 17, y: plankTime(2, 0) },
                        { x: 18, y: plankTime(2, 30) },
                        { x: 19, y: plankTime(0, 0) }, // rest day
                        { x: 20, y: plankTime(2, 30) },
                        { x: 21, y: plankTime(2, 30) },
                        { x: 22, y: plankTime(3, 0) },
                        { x: 23, y: plankTime(3, 0) },
                        { x: 24, y: plankTime(3, 30) },
                        { x: 25, y: plankTime(3, 30) },
                        { x: 26, y: plankTime(0, 0) }, // rest day
                        { x: 27, y: plankTime(4, 0) },
                        { x: 28, y: plankTime(4, 0) },
                        { x: 29, y: plankTime(4, 30) },
                        { x: 30, y: plankTime(5, 0) },
                    ]
                },
            ];
        }
    </script>
  </body>
</html>
